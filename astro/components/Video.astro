---
interface Props {
  /**
   * YouTube video ID to display
   * @example dQw4w9WgXcQ
   */
  id: string
  /**
   * Only load video when it first becomes visible
   * Set to false for elements above the fold
   * @default true
   */
  lazyload?: boolean

  /**
   * Height of the video player. Width is calculated based on @see aspectRatio
   * @default 315
   */
  height?: number

  /**
  * Aspect ratio of the video player.
  * @default 16/9
  */
  aspectRatio?: number
}
const {
  id,
  lazyload = true,
  height = 315,
  aspectRatio = 16 / 9
} = Astro.props

---
<iframe
  loading={lazyload ? 'lazy' : 'eager'}
  class="video" width={Math.round(height * aspectRatio)} height={height}
  src={`https://www.youtube-nocookie.com/embed/${id}`}
  title="YouTube video player"
  allow="fullscreen" referrerpolicy="strict-origin-when-cross-origin">
</iframe>
